<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>package.json - Node.py Documentation</title>

        <link href="../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Node.py Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../changelog/">Changelog</a>
                </li>
            
            
            
                <li >
                    <a href="../../troubleshooting/">Troubleshooting</a>
                </li>
            
            
            
                <li >
                    <a href="../../nodepy/">nodepy</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">nodepy-pm <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">package.json</a>
                        </li>
                    
                        <li >
                            <a href="../cli/">CLI</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../nodepy/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../cli/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#nodepy-pmlibmanifest">nodepy-pm/lib/manifest</a></li>
        
            <li><a href="#specification">Specification</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="nodepy-pmlibmanifest">nodepy-pm/lib/manifest</h1>
<p>Parse package manifests.</p>
<div class="codehilite"><pre><span></span><span class="n">manifest</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;nodepy-pm/lib/manifest&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">m</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;package.json&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="p">(</span><span class="n">FileNotFoundError</span><span class="p">,</span> <span class="n">manifest</span><span class="o">.</span><span class="n">InvalidPackageManifest</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
  <span class="n">m</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>


<h2 id="specification">Specification</h2>
<h3 id="name"><code>name</code></h3>
<p><em>Required.</em> The name of the package. This may be a scope identifier
of the format <code>@scope/package-name</code>, or simply <code>package-name</code>. Allowed
characters for the scope and package name are digits, ASCII letters and <code>-_.</code>.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span> <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;@scope-name/package-name&quot;</span> <span class="p">}</span>
</pre></div>


<h3 id="version"><code>version</code></h3>
<p><em>Required.</em> A <a href="http://semver.org/">SemVer</a> of the package&rsquo;s version.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span> <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.1-security&quot;</span> <span class="p">}</span>
</pre></div>


<h3 id="engines"><code>engines</code></h3>
<p><em>Optional.</em> An object that maps engine-names to version numbers. These version
numbers should be <a href="http://semver.org/">SemVer</a> too, but that is not a requirement. The actual
engine that runs the package will check the version number. The default engine
is <code>python</code> which compares against the Python version number.</p>
<p>TODO: PyPy, JPython, Stackless, etc. should match to different engine names.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;engines&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;python&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=3.0.0&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="repository"><code>repository</code></h3>
<p><em>Optional</em>. URL to the source code repository where the package is developed.
If specified, the URL must be valid.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span> <span class="nt">&quot;repository&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/nodepy/nodepy&quot;</span> <span class="p">}</span>
</pre></div>


<h3 id="license"><code>license</code></h3>
<p><em>Required when publishing a package on the registry.</em> The license of the
package source code.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span> <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;MIT&quot;</span> <span class="p">}</span>
</pre></div>


<h3 id="bin"><code>bin</code></h3>
<p><em>Optional.</em> An object that associates script names with a request string
that is then executed as the main module when the script is executed.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;bin&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;manifest&quot;</span><span class="p">:</span> <span class="s2">&quot;cli&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="scripts"><code>scripts</code></h3>
<p><em>Optional.</em> An object that associates event names with Node.py modules
which are executed during various events of the package lifecycle.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;post-install&quot;</span><span class="p">:</span> <span class="s2">&quot;./bin/install.py&quot;</span><span class="p">,</span>
    <span class="nt">&quot;pre-uninstall&quot;</span><span class="p">:</span> <span class="s2">&quot;./bin/uninstall.py&quot;</span><span class="p">,</span>
    <span class="nt">&quot;pre-dist&quot;</span><span class="p">:</span> <span class="s2">&quot;./bin/dist.py&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Currently supported fields are:</p>
<ul>
<li>pre-script</li>
<li>pre-install, post-install</li>
<li>pre-uninstall</li>
<li>pre-dist, post-dist</li>
<li>pre-publish, post-publish</li>
</ul>
<p><strong>Todo</strong></p>
<ul>
<li>post-uninstall</li>
<li>pre-version, post-version</li>
<li>pre-test, test, post-test</li>
<li>pre-stop, stop, post-stop</li>
<li>pre-start, start, post-start</li>
<li>pre-restart, restart, post-restart</li>
</ul>
<h3 id="private"><code>private</code></h3>
<p><em>Optional</em>. Prevent publication of the package with <code>nodepy-pm publish</code>. This is used
for packages that want to take advantage of the nodepy-pm dependency management but
are not actuall supposed to be placed into the public registry. An example
of this would be a package that generates the documentation of another project.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span> <span class="nt">&quot;private&quot;</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
</pre></div>


<h3 id="dependencies"><code>dependencies</code></h3>
<p><em>Optional.</em>: An object that specifies the dependencies of the package.
All values must be valid <code>nodepy-pm/lib/semver:Selector</code> syntax, Git URL syntax
of the format <code>git+&lt;url&gt;[@&lt;ref&gt;]</code> or relative paths of the format
<code>[-e] [./|../]&lt;path&gt;</code>. Dependencies declared here will be installed
transitively.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;nodepy-pm&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.0.8&quot;</span><span class="p">,</span>
    <span class="nt">&quot;nodepy-pm-registry&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.0.3&quot;</span><span class="p">,</span>
    <span class="nt">&quot;some-module&quot;</span><span class="p">:</span> <span class="s2">&quot;git+https://github.com/someuser/some-module.git@development&quot;</span><span class="p">,</span>
    <span class="nt">&quot;local-module&quot;</span><span class="p">:</span> <span class="s2">&quot;-e ../local-module&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="dev-dependencies"><code>dev-dependencies</code></h3>
<p><em>Optional</em>. Dependencies that are listed here are required only for developing
a package, thus they will only be installed when using <code>nodepy-pm install</code> without
additional arguments in the directory where the <code>package.json</code> file lives,
unless <code>--production</code> is specified. Also, development dependencies will not be
installed transitively.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dev-dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;js-nodepy&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.0.2&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="python-dependencies"><code>python-dependencies</code></h3>
<p><em>Optional.</em> Similar to the <code>dependencies</code> field, but it specifies actual
Python modules that the package requires. These modules can be installed
by <a href="https://github.com/nodepy/nodepy">nodepy-pm</a> using <a href="https://pypi.python.org/pypi/pip">Pip</a>.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;python-dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;Flask&quot;</span><span class="p">:</span> <span class="s2">&quot;==0.12&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Flask-HTTPAuth&quot;</span><span class="p">:</span> <span class="s2">&quot;==3.2.2&quot;</span><span class="p">,</span>
    <span class="nt">&quot;mongoengine&quot;</span><span class="p">:</span> <span class="s2">&quot;==0.11.0&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="dev-python-dependencies"><code>dev-python-dependencies</code></h3>
<p><em>Optional</em>. Python dependencies that are required for developing the package.
See the <code>dev-dependencies</code> field for when development dependencies are
installed.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dev-python-dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;mkdocs&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;=0.16.1&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="dist"><code>dist</code></h3>
<p><em>Optional</em>. An object that specifies options for generating an archived
distribution of the package with <code>nodepy-pm dist</code>.</p>
<div class="codehilite"><pre><span></span>  <span class="s2">&quot;dist&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;include_files&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="nt">&quot;exclude_files&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;.hg*&quot;</span><span class="p">]</span>
  <span class="p">}</span>
</pre></div>


<h4 id="include_files"><code>include_files</code></h4>
<p><em>Optional.</em> A list of patterns that match the files to include.
Matching patterns include files possibly excluded by <code>exclude_files</code>.</p>
<h4 id="exclude_files"><code>exclude_files</code></h4>
<p><em>Optional.</em> A list of patterns that match the files to exclude from the
archive. Note that when installing packages with <a href="https://github.com/nodepy/nodepy">nodepy-pm</a>, it will add
default exclude patterns to this list. The actual patterns may change
with versions of nodepy-pm. When this document was last updated, nodepy-pm added
the following patterns:</p>
<ul>
<li><code>.svn/*</code></li>
<li><code>.git</code></li>
<li><code>.git/*</code></li>
<li><code>.DS_Store</code></li>
<li><code>*.pyc</code></li>
<li><code>*.pyo</code></li>
<li><code>dist/*</code></li>
<li><code>nodepy_modules/</code></li>
</ul></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
	</footer>


        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>